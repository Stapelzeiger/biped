launch:

- arg:
    name: "use_sim_tf"
    default: "False"

- arg:
    name: "use_sim_time"
    default: "True"

- arg:
    name: "sim_time_sec"
    default: "0.001"

- node:
    pkg: robot_state_publisher
    exec: robot_state_publisher
    name: biped_state_publisher
    param:
    - name: "robot_description"
      value: "$(command 'cat $(find-pkg-share biped_robot_description)/urdf/custom_robot.urdf')"
      # value: "$(command '$(find-exec xacro) $(find-pkg-share biped_robot_description)/urdf/custom_robot.urdf')"
    - name: use_sim_time
      value: "$(var use_sim_time)"
    - name: publish_frequency
      value: 300.0
    output: screen


- include:
    file: "$(find-pkg-share sim_mujoco)/sim.launch.yml"
    arg:
      - name: "publish_tf"
        value: '$(var use_sim_tf)'

- include:
    file: "$(find-pkg-share ik_biped)/launch/ik.launch.yml"

- include:
    file: "$(find-pkg-share kinematic_odometry)/launch/kinematic_odometry.launch.yml"
    arg:
      - name: "publish_tf"
        value: "$(eval 'not $(var use_sim_tf)')"

# - include:
#     file: "$(find-pkg-share mocap_odometry)/launch/mocap_odometry.launch.yml"
#     arg:
#       - name: "publish_tf"
#         value: "$(eval 'not $(var use_sim_tf)')"


- include:
    file: "$(find-pkg-share capture_point)/launch/cp.launch.yml"

- include:
    file: "$(find-pkg-share metrics)/metrics.launch.yml"

- include:
    file: "$(find-pkg-share pos_ctrl)/pos_ctrl.launch.yml"